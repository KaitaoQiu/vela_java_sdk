openapi: 3.0.0
info:
  title: Generated by cue.
  version: no version
servers:
- url: /
paths: {}
components:
  schemas:
    HealthProbe:
      properties:
        exec:
          $ref: '#/components/schemas/exec'
        failureThreshold:
          default: 3
          description: Number of consecutive failures required to determine the container
            is not alive (liveness probe) or not ready (readiness probe).
          title: failureThreshold
          type: integer
        httpGet:
          $ref: '#/components/schemas/httpGet'
        initialDelaySeconds:
          default: 0
          description: Number of seconds after the container is started before the
            first probe is initiated.
          title: initialDelaySeconds
          type: integer
        periodSeconds:
          default: 10
          description: "How often, in seconds, to execute the probe."
          title: periodSeconds
          type: integer
        successThreshold:
          default: 1
          description: Minimum consecutive successes for the probe to be considered
            successful after having failed.
          title: successThreshold
          type: integer
        tcpSocket:
          $ref: '#/components/schemas/tcpSocket'
        timeoutSeconds:
          default: 1
          description: Number of seconds after which the probe times out.
          title: timeoutSeconds
          type: integer
      required:
      - failureThreshold
      - initialDelaySeconds
      - periodSeconds
      - successThreshold
      - timeoutSeconds
      title: readinessProbe
      type: object
    task-spec:
      properties:
        annotations:
          additionalProperties:
            type: string
          description: Specify the annotations in the workload
          title: annotations
          type: object
        cmd:
          description: Commands to run in the container
          items:
            title: cmd
            type: string
          title: cmd
          type: array
        count:
          default: 1
          description: |-
            Specify number of tasks to run in parallel
            +short=c
          title: count
          type: integer
        cpu:
          description: "Number of CPU units for the service, like `0.5` (0.5 CPU core),\
            \ `1` (1 CPU core)"
          title: cpu
          type: string
        env:
          description: Define arguments by using environment variables
          items:
            $ref: '#/components/schemas/env'
          title: env
          type: array
        image:
          description: |-
            Which image would you like to use for your service
            +short=i
          title: image
          type: string
        imagePullPolicy:
          description: Specify image pull policy for your service
          enum:
          - Always
          - Never
          - IfNotPresent
          title: imagePullPolicy
          type: string
        imagePullSecrets:
          description: Specify image pull secrets for your service
          items:
            title: imagePullSecrets
            type: string
          title: imagePullSecrets
          type: array
        labels:
          additionalProperties:
            type: string
          description: Specify the labels in the workload
          title: labels
          type: object
        livenessProbe:
          $ref: '#/components/schemas/HealthProbe'
        memory:
          description: Specifies the attributes of the memory resource required for
            the container.
          title: memory
          type: string
        readinessProbe:
          $ref: '#/components/schemas/HealthProbe'
        restart:
          default: Never
          description: "Define the job restart policy, the value can only be Never\
            \ or OnFailure. By default, it's Never."
          title: restart
          type: string
        volumes:
          description: Declare volumes and volumeMounts
          items:
            $ref: '#/components/schemas/volumes'
          title: volumes
          type: array
      required:
      - count
      - image
      - restart
      title: parameter
      type: object
    exec:
      description: Instructions for assessing container health by executing a command.
        Either this attribute or the httpGet attribute or the tcpSocket attribute
        MUST be specified. This attribute is mutually exclusive with both the httpGet
        attribute and the tcpSocket attribute.
      properties:
        command:
          description: "A command to be executed inside the container to assess its\
            \ health. Each space delimited token of the command is a separate array\
            \ element. Commands exiting 0 are considered to be successful probes,\
            \ whilst all other exit codes are considered failures."
          items:
            title: command
            type: string
          title: command
          type: array
      required:
      - command
      title: exec
      type: object
    httpHeaders:
      properties:
        name:
          title: name
          type: string
        value:
          title: value
          type: string
      required:
      - name
      - value
      title: httpHeaders
      type: object
    httpGet:
      description: Instructions for assessing container health by executing an HTTP
        GET request. Either this attribute or the exec attribute or the tcpSocket
        attribute MUST be specified. This attribute is mutually exclusive with both
        the exec attribute and the tcpSocket attribute.
      properties:
        httpHeaders:
          items:
            $ref: '#/components/schemas/httpHeaders'
          title: httpHeaders
          type: array
        path:
          description: "The endpoint, relative to the port, to which the HTTP GET\
            \ request should be directed."
          title: path
          type: string
        port:
          description: The TCP socket within the container to which the HTTP GET request
            should be directed.
          title: port
          type: integer
      required:
      - path
      - port
      title: httpGet
      type: object
    tcpSocket:
      description: Instructions for assessing container health by probing a TCP socket.
        Either this attribute or the exec attribute or the httpGet attribute MUST
        be specified. This attribute is mutually exclusive with both the exec attribute
        and the httpGet attribute.
      properties:
        port:
          description: The TCP socket within the container that should be probed to
            assess container health.
          title: port
          type: integer
      required:
      - port
      title: tcpSocket
      type: object
    configMapKeyRef:
      description: Selects a key of a config map in the pod's namespace
      properties:
        key:
          description: The key of the config map to select from. Must be a valid secret
            key
          title: key
          type: string
        name:
          description: The name of the config map in the pod's namespace to select
            from
          title: name
          type: string
      required:
      - key
      - name
      title: configMapKeyRef
      type: object
    secretKeyRef:
      description: Selects a key of a secret in the pod's namespace
      properties:
        key:
          description: The key of the secret to select from. Must be a valid secret
            key
          title: key
          type: string
        name:
          description: The name of the secret in the pod's namespace to select from
          title: name
          type: string
      required:
      - key
      - name
      title: secretKeyRef
      type: object
    valueFrom:
      description: Specifies a source the value of this var should come from
      properties:
        configMapKeyRef:
          $ref: '#/components/schemas/configMapKeyRef'
        secretKeyRef:
          $ref: '#/components/schemas/secretKeyRef'
      title: valueFrom
      type: object
    env:
      properties:
        name:
          description: Environment variable name
          title: name
          type: string
        value:
          description: The value of the environment variable
          title: value
          type: string
        valueFrom:
          $ref: '#/components/schemas/valueFrom'
      required:
      - name
      title: env
      type: object
    volumes:
      properties:
        medium:
          default: ""
          enum:
          - ""
          - Memory
          title: medium
          type: string
        mountPath:
          title: mountPath
          type: string
        name:
          title: name
          type: string
        type:
          default: emptyDir
          description: "Specify volume type, options: \"pvc\",\"configMap\",\"secret\"\
            ,\"emptyDir\", default to emptyDir"
          enum:
          - emptyDir
          - pvc
          - configMap
          - secret
          title: type
          type: string
      required:
      - medium
      - mountPath
      - name
      - type
      title: volumes
      type: object


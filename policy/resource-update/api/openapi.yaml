openapi: 3.0.0
info:
  title: Generated by cue.
  version: no version
servers:
- url: /
paths: {}
components:
  schemas:
    PolicyRule:
      properties:
        selector:
          $ref: '#/components/schemas/RuleSelector'
        strategy:
          $ref: '#/components/schemas/Strategy'
      required:
      - selector
      - strategy
      title: rules
      type: object
    RuleSelector:
      properties:
        componentNames:
          description: Select resources by component names
          items:
            title: componentNames
            type: string
          title: componentNames
          type: array
        componentTypes:
          description: Select resources by component types
          items:
            title: componentTypes
            type: string
          title: componentTypes
          type: array
        oamTypes:
          description: Select resources by oamTypes (COMPONENT or TRAIT)
          items:
            title: oamTypes
            type: string
          title: oamTypes
          type: array
        resourceNames:
          description: Select resources by their names
          items:
            title: resourceNames
            type: string
          title: resourceNames
          type: array
        resourceTypes:
          description: Select resources by resource types (like Deployment)
          items:
            title: resourceTypes
            type: string
          title: resourceTypes
          type: array
        traitTypes:
          description: Select resources by trait types
          items:
            title: traitTypes
            type: string
          title: traitTypes
          type: array
      title: selector
      type: object
    Strategy:
      properties:
        op:
          default: patch
          description: Specify the op for updating target resources
          enum:
          - patch
          - replace
          title: op
          type: string
        recreateFields:
          description: Specify which fields would trigger recreation when updated
          items:
            title: recreateFields
            type: string
          title: recreateFields
          type: array
      required:
      - op
      title: strategy
      type: object
    resource-update-spec:
      properties:
        rules:
          description: Specify the list of rules to control resource update strategy
            at resource level.
          items:
            $ref: '#/components/schemas/PolicyRule'
          title: rules
          type: array
      title: parameter
      type: object


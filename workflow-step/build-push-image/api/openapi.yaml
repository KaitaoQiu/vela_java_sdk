openapi: 3.0.0
info:
  title: Generated by cue.
  version: no version
servers:
- url: /
paths: {}
components:
  schemas:
    build-push-image-spec:
      properties:
        buildArgs:
          description: Specify the build args
          items:
            title: buildArgs
            type: string
          title: buildArgs
          type: array
        context:
          $ref: '#/components/schemas/context'
        credentials:
          $ref: '#/components/schemas/credentials'
        dockerfile:
          default: ./Dockerfile
          description: Specify the dockerfile
          title: dockerfile
          type: string
        image:
          description: Specify the image
          title: image
          type: string
        kanikoExecutor:
          default: oamdev/kaniko-executor:v1.9.1
          description: "Specify the kaniko executor image, default to oamdev/kaniko-executor:v1.9.1"
          title: kanikoExecutor
          type: string
        platform:
          description: Specify the platform to build
          title: platform
          type: string
        verbosity:
          default: info
          description: Specify the verbosity level
          enum:
          - info
          - panic
          - fatal
          - error
          - warn
          - debug
          - trace
          title: verbosity
          type: string
      required:
      - context
      - dockerfile
      - image
      - kanikoExecutor
      - verbosity
      title: parameter
      type: object
    git:
      properties:
        branch:
          default: master
          title: branch
          type: string
        git:
          title: git
          type: string
      required:
      - branch
      - git
      title: git
      type: object
    context:
      description: "Specify the context to build image, you can use context with git\
        \ and branch or directly specify the context, please refer to https://github.com/GoogleContainerTools/kaniko#kaniko-build-contexts"
      oneOf:
      - $ref: '#/components/schemas/git'
      - type: string
      title: context
    git_1:
      description: Specify the credentials to access git
      properties:
        key:
          description: Specify the secret key
          title: key
          type: string
        name:
          description: Specify the secret name
          title: name
          type: string
      required:
      - key
      - name
      title: git
      type: object
    image:
      description: Specify the credentials to access image registry
      properties:
        key:
          default: .dockerconfigjson
          description: Specify the secret key
          title: key
          type: string
        name:
          description: Specify the secret name
          title: name
          type: string
      required:
      - key
      - name
      title: image
      type: object
    credentials:
      description: Specify the credentials to access git and image registry
      properties:
        git:
          $ref: '#/components/schemas/git_1'
        image:
          $ref: '#/components/schemas/image'
      title: credentials
      type: object

